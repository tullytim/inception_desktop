<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Inception</title>
  <meta http-equiv="Content-Security-Policy" content="default-src 'self' https://api.inceptionlabs.ai; script-src 'self' 'unsafe-eval' 'unsafe-inline' https://cdn.jsdelivr.net https://cdnjs.cloudflare.com; style-src 'self' 'unsafe-inline' https://cdn.jsdelivr.net https://cdnjs.cloudflare.com https://fonts.googleapis.com; font-src 'self' https://fonts.gstatic.com; connect-src 'self' https://api.inceptionlabs.ai; img-src 'self' data: https://framerusercontent.com;">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.30.0/themes/prism.min.css">
  <style>
    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      margin: 0;
      padding: 0;
      background: #181a20;
      color: #e6e6e6;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }
    
    .container {
      max-width: 800px;
      margin: 0 auto;
      background: white;
      padding: 30px;
      border-radius: 8px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }
    
    button {
      background: #007acc;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 4px;
      cursor: pointer;
      font-size: 16px;
    }
    
    button:hover {
      background: #005a9e;
    }
    
    #results {
      flex: 1;
      padding: 32px 0 100px 0;
      max-width: 700px;
      margin: 0 auto;
      width: 100%;
      box-sizing: border-box;
      min-height: 0;
      max-height: 80vh;
      overflow-y: auto;
    }
    
    .chat-input-area {
      position: fixed;
      left: 0;
      right: 0;
      bottom: 0;
      background: #23262f;
      display: flex;
      justify-content: center;
      z-index: 10;
      box-shadow: 0 -2px 12px 0 rgba(0,0,0,0.10);
      padding: 0;
    }
    .chat-input-area-inner {
      display: flex;
      align-items: center;
      gap: 12px;
      width: 100%;
      max-width: 700px;
      margin: 0 auto;
      padding: 18px 24px 18px 24px;
    }
    
    .chat-input-area input {
      flex: 1;
      background: #181a20;
      border: none;
      color: #e6e6e6;
      font-size: 1.1em;
      padding: 14px 18px;
      border-radius: 10px;
      outline: none;
      box-shadow: 0 2px 8px rgba(0,0,0,0.08);
      transition: box-shadow 0.2s, border 0.2s;
    }
    
    .chat-input-area input:focus {
      box-shadow: 0 2px 16px rgba(59,130,246,0.13);
      border: 1.5px solid #6ee7b7;
    }
    
    .chat-input-area button {
      background: linear-gradient(135deg, #6ee7b7 0%, #3b82f6 100%);
      color: #fff;
      border: none;
      padding: 0 24px;
      border-radius: 10px;
      font-size: 1.1em;
      cursor: pointer;
      height: 44px;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: background 0.2s, box-shadow 0.2s;
      box-shadow: 0 2px 8px rgba(59,130,246,0.10);
    }
    
    .chat-input-area button:hover {
      background: linear-gradient(135deg, #3b82f6 0%, #6ee7b7 100%);
      box-shadow: 0 2px 16px rgba(59,130,246,0.13);
    }
    
    @media (max-width: 700px) {
      #results {
        padding: 16px 0 80px 0;
      }
      .chat-input-area {
        padding: 10px 8px 10px 8px;
      }
    }
  </style>
</head>
<body>
  <div style="display: flex; flex-direction: column; align-items: center; margin-top: 32px;">
    <img src="images/inception.png" alt="Inception Logo" style="width:56px;height:56px;border-radius:12px;box-shadow:0 2px 8px rgba(0,0,0,0.10);margin-bottom:18px;" />
  </div>
  <div id="results"></div>
  <form id="chat-form" class="chat-input-area" autocomplete="off">
    <div class="chat-input-area-inner">
      <input type="text" id="chat-input" placeholder="Type your message..." autocomplete="off" />
      <button type="submit" aria-label="Send">Send</button>
    </div>
  </form>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.30.0/prism.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.30.0/plugins/autoloader/prism-autoloader.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
  <script>
    const entities = {
        '&amp;': '&',
        '&lt;': '<',
        '&gt;': '>',
        '&quot;': '"',
        '&#39;': "'",
        '&#x2F;': '/',
        '&#x60;': '`',
        '&#x3D;': '=',
        '&nbsp;': ' ',
        '&copy;': '©',
        '&reg;': '®',
        '&trade;': '™',
        '&euro;': '€',
        '&pound;': '£',
        '&yen;': '¥'
    };
    function decodeHTMLEntities(text) {
        // Handle numeric entities
        text = text.replace(/&#(\d+);/g, function(match, dec) {
            return String.fromCharCode(parseInt(dec, 10));
        });
        // Handle hex entities
        text = text.replace(/&#x([0-9a-f]+);/gi, function(match, hex) {
            return String.fromCharCode(parseInt(hex, 16));
        });
        // Handle any remaining entities
        return text.replace(/&[^;]+;/g, function(match) {
            return entities[match] || match;
        });
    }
    function setBodyClass(cl){document.getElementById("body").className = cl;}
    function inject(h, div_id){
        h = decodeHTMLEntities(h)
        document.getElementById(div_id).innerHTML += h;
        setTimeout(() => {
          document.getElementById(div_id).scrollTop = document.getElementById(div_id).scrollHeight;
        }, 0);
    }
    function renderMarkdown(html, cur_div_id){
        document.getElementById(cur_div_id).innerHTML = marked.parse(html);
        Prism.highlightAll();
    }
    marked.setOptions({
        highlight: function(code, lang) {
             if (Prism.languages[lang]) {
               return Prism.highlight(code, Prism.languages[lang], lang);
             } else {
               return code;
             }
        }
     });
     marked.use({html:true, gfm:true});
  </script>
  <script src="renderer.js"></script>
</body>
</html>
