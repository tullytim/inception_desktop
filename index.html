<!--
MIT License

Copyright (c) 2025 Tim Tully

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.
-->
<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Inception</title>
  <meta http-equiv="Content-Security-Policy" content="default-src 'self' https://api.inceptionlabs.ai; script-src 'self' https://cdn.jsdelivr.net https://cdnjs.cloudflare.com; style-src 'self' 'unsafe-inline' https://cdn.jsdelivr.net https://cdnjs.cloudflare.com https://fonts.googleapis.com; font-src 'self' https://fonts.gstatic.com; connect-src 'self' https://api.inceptionlabs.ai; img-src 'self' data: https://framerusercontent.com; object-src 'none'; base-uri 'self'; form-action 'self';">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.30.0/themes/prism.min.css" integrity="sha384-rCCjoCPCsizaAAYVoz1Q0CmCTvnctK0JkfCSjx7IIxexTBg+uCKtFYycedUjMyA2" crossorigin="anonymous">
  <style>
    /* ── CSS Custom Properties ── */
    :root {
      --bg-primary: #0f1117;
      --bg-secondary: #1a1d27;
      --bg-surface: #22252f;
      --bg-elevated: #2a2d3a;
      --border-subtle: rgba(255,255,255,0.06);
      --border-default: rgba(255,255,255,0.08);
      --border-hover: rgba(255,255,255,0.12);
      --text-primary: #f0f0f0;
      --text-secondary: #a0a4b8;
      --text-tertiary: #6b7085;
      --accent-green: #6ee7b7;
      --accent-blue: #60a5fa;
      --accent-purple: #a78bfa;
      --gradient-main: linear-gradient(135deg, #6ee7b7 0%, #60a5fa 50%, #a78bfa 100%);
      --gradient-subtle: linear-gradient(135deg, rgba(110,231,183,0.12) 0%, rgba(96,165,250,0.12) 50%, rgba(167,139,250,0.12) 100%);
      --shadow-sm: 0 1px 2px rgba(0,0,0,0.3);
      --shadow-md: 0 4px 16px rgba(0,0,0,0.3);
      --shadow-lg: 0 12px 40px rgba(0,0,0,0.4);
      --shadow-glow: 0 0 40px rgba(110,231,183,0.08), 0 0 80px rgba(96,165,250,0.05);
      --radius-sm: 8px;
      --radius-md: 14px;
      --radius-lg: 20px;
      --radius-xl: 28px;
    }

    * { box-sizing: border-box; }

    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      margin: 0;
      padding: 0;
      background: var(--bg-primary);
      color: var(--text-primary);
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      transition: background-color 0.4s ease, color 0.4s ease;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    /* ── Ambient background glow ── */
    body::before {
      content: '';
      position: fixed;
      top: -40%;
      left: -20%;
      width: 140%;
      height: 140%;
      background:
        radial-gradient(ellipse 600px 400px at 20% 20%, rgba(110,231,183,0.04) 0%, transparent 70%),
        radial-gradient(ellipse 500px 500px at 80% 30%, rgba(96,165,250,0.04) 0%, transparent 70%),
        radial-gradient(ellipse 400px 600px at 50% 80%, rgba(167,139,250,0.03) 0%, transparent 70%);
      pointer-events: none;
      z-index: 0;
      animation: ambientShift 20s ease-in-out infinite alternate;
    }

    @keyframes ambientShift {
      0%   { transform: translate(0, 0) scale(1); }
      50%  { transform: translate(2%, -1%) scale(1.02); }
      100% { transform: translate(-1%, 2%) scale(0.98); }
    }

    /* ── Light theme ── */
    body.light-theme {
      --bg-primary: #f5f7fa;
      --bg-secondary: #ffffff;
      --bg-surface: #ffffff;
      --bg-elevated: #f8fafc;
      --border-subtle: rgba(0,0,0,0.04);
      --border-default: rgba(0,0,0,0.08);
      --border-hover: rgba(0,0,0,0.12);
      --text-primary: #1a1d2e;
      --text-secondary: #5a607a;
      --text-tertiary: #8b90a5;
      --shadow-sm: 0 1px 2px rgba(0,0,0,0.05);
      --shadow-md: 0 4px 16px rgba(0,0,0,0.06);
      --shadow-lg: 0 12px 40px rgba(0,0,0,0.08);
      --shadow-glow: 0 0 40px rgba(5,150,105,0.06), 0 0 80px rgba(59,130,246,0.04);
      background: var(--bg-primary);
      color: var(--text-primary);
    }

    body.light-theme::before {
      background:
        radial-gradient(ellipse 600px 400px at 20% 20%, rgba(5,150,105,0.04) 0%, transparent 70%),
        radial-gradient(ellipse 500px 500px at 80% 30%, rgba(59,130,246,0.04) 0%, transparent 70%),
        radial-gradient(ellipse 400px 600px at 50% 80%, rgba(139,92,246,0.03) 0%, transparent 70%);
    }

    body.light-theme .sidebar {
      background: var(--bg-surface);
      box-shadow: 2px 0 20px rgba(0,0,0,0.06);
      border-right: 1px solid var(--border-default);
    }

    body.light-theme .sidebar-header {
      border-bottom: 1px solid var(--border-default);
    }

    body.light-theme .sidebar-logo {
      color: var(--text-primary);
    }

    body.light-theme .sidebar-item {
      color: var(--text-secondary);
    }

    body.light-theme .sidebar-item:hover {
      background: var(--bg-elevated);
      color: #059669;
    }

    body.light-theme .sidebar-item.active {
      background: rgba(5,150,105,0.08);
      color: #059669;
    }

    body.light-theme .hamburger-btn {
      background: var(--bg-surface);
      color: var(--text-primary);
      box-shadow: var(--shadow-md);
      border: 1px solid var(--border-default);
    }

    body.light-theme .hamburger-btn:hover {
      background: var(--bg-elevated);
    }
    body.light-theme .hamburger-btn.sidebar-open {
      background: transparent;
      box-shadow: none;
      border-color: transparent;
    }
    body.light-theme .hamburger-btn.sidebar-open:hover {
      background: rgba(0,0,0,0.04);
    }

    body.light-theme .sidebar-section-title {
      color: var(--text-tertiary);
    }

    body.light-theme .recent-chat-item:hover {
      background: var(--bg-elevated);
      border-left-color: #059669;
    }

    body.light-theme .recent-chat-title {
      color: var(--text-primary);
    }

    body.light-theme .recent-chat-date {
      color: var(--text-tertiary);
    }

    body.light-theme .chat-input-area {
      background: rgba(255,255,255,0.85);
      border: 1px solid var(--border-default);
      box-shadow: var(--shadow-lg), var(--shadow-glow);
    }

    body.light-theme .chat-input-area:hover {
      box-shadow: 0 16px 50px rgba(0,0,0,0.1), 0 0 50px rgba(5,150,105,0.08);
    }

    body.light-theme .bottom-buttons .model-select {
      background: var(--bg-elevated);
      border: 1px solid var(--border-default);
      color: var(--text-secondary);
    }

    body.light-theme .bottom-buttons .model-select:hover {
      background: #f1f5f9;
      border-color: var(--border-hover);
      color: var(--text-primary);
    }

    body.light-theme .bottom-buttons .model-select:focus {
      background: #f1f5f9;
      border-color: #94a3b8;
      color: var(--text-primary);
    }

    body.light-theme .bottom-buttons .model-select option {
      background: #f1f5f9;
      color: var(--text-primary);
    }

    body.light-theme .chat-input-area .bottom-btn {
      background: var(--bg-elevated) !important;
      color: var(--text-secondary) !important;
    }

    body.light-theme .chat-input-area .bottom-btn:hover {
      background: #e8ecf1 !important;
      color: var(--text-primary) !important;
    }

    body.light-theme .modal {
      background: rgba(0,0,0,0.25);
      backdrop-filter: blur(4px);
    }

    body.light-theme .modal-content {
      background: var(--bg-surface);
      box-shadow: 0 8px 40px rgba(0,0,0,0.12);
      border: 1px solid var(--border-default);
    }

    body.light-theme .modal-header {
      border-bottom: 1px solid var(--border-default);
    }

    body.light-theme .modal-title {
      color: var(--text-primary);
    }

    body.light-theme .modal-close {
      color: var(--text-secondary);
    }

    body.light-theme .modal-close:hover {
      background: var(--bg-elevated);
      color: #059669;
    }

    body.light-theme .modal-body {
      color: var(--text-primary);
    }

    body.light-theme .setting-label {
      color: var(--text-primary);
    }

    body.light-theme .setting-input {
      background: var(--bg-elevated);
      border: 1px solid var(--border-default);
      color: var(--text-primary);
    }

    body.light-theme .setting-input:focus {
      border-color: #059669;
      box-shadow: 0 0 0 3px rgba(5,150,105,0.1);
    }

    body.light-theme .setting-description {
      color: var(--text-tertiary);
    }

    .container {
      max-width: 800px;
      margin: 0 auto;
      background: var(--bg-surface);
      padding: 30px;
      border-radius: var(--radius-md);
      box-shadow: var(--shadow-md);
    }

    button {
      background: #007acc;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 4px;
      cursor: pointer;
      font-size: 16px;
    }

    button:hover {
      background: #005a9e;
    }

    #results {
      flex: 1;
      padding: 32px 0 180px 0;
      max-width: 1000px;
      margin: 0 auto;
      width: 100%;
      box-sizing: border-box;
      min-height: 0;
      max-height: 80vh;
      overflow-y: auto;
      position: relative;
      z-index: 1;
      scroll-behavior: smooth;
    }

    /* ── Chat input area ── */
    .chat-input-area {
      position: fixed;
      left: 50%;
      transform: translateX(-50%);
      bottom: 28px;
      background: rgba(26, 29, 39, 0.80);
      display: flex;
      flex-direction: column;
      justify-content: center;
      z-index: 10;
      box-shadow: var(--shadow-lg), var(--shadow-glow);
      padding: 0;
      border-radius: var(--radius-xl);
      max-width: 800px;
      width: calc(100% - 40px);
      border: 1px solid var(--border-subtle);
      backdrop-filter: blur(24px) saturate(1.4);
      -webkit-backdrop-filter: blur(24px) saturate(1.4);
      transition: transform 0.25s cubic-bezier(0.4,0,0.2,1), box-shadow 0.25s cubic-bezier(0.4,0,0.2,1), border-color 0.25s ease;
    }

    .chat-input-area:hover {
      transform: translateX(-50%) translateY(-2px);
      box-shadow: 0 16px 50px rgba(0,0,0,0.5), 0 0 60px rgba(110,231,183,0.06), 0 0 100px rgba(96,165,250,0.04);
      border-color: var(--border-hover);
    }

    .chat-input-area:focus-within {
      border-color: rgba(110,231,183,0.25);
      box-shadow: 0 16px 50px rgba(0,0,0,0.5), 0 0 40px rgba(110,231,183,0.1), 0 0 80px rgba(96,165,250,0.06);
    }

    .chat-input-area-inner {
      display: flex;
      align-items: flex-end;
      gap: 12px;
      width: 100%;
      max-width: 800px;
      margin: 0 auto;
      padding: 16px 20px 8px 20px;
      border: none;
      background: none;
    }

    .bottom-buttons .model-select {
      background: var(--bg-elevated);
      border: 1px solid var(--border-default);
      color: var(--text-secondary);
      font-size: 0.8em;
      padding: 8px 12px;
      border-radius: var(--radius-sm);
      outline: none;
      transition: all 0.2s ease;
      cursor: pointer;
      min-width: 120px;
      margin-right: 32px;
      font-family: inherit;
    }

    .bottom-buttons .model-select:hover {
      background: #2d3142;
      border-color: var(--border-hover);
      color: var(--text-primary);
    }

    .bottom-buttons .model-select:focus {
      background: #2d3142;
      border-color: rgba(110,231,183,0.3);
      color: var(--text-primary);
      box-shadow: 0 0 0 3px rgba(110,231,183,0.08);
    }

    .bottom-buttons .model-select option {
      background: var(--bg-elevated);
      color: var(--text-primary);
      font-size: 0.8em;
    }

    .chat-input-area button[type="submit"] {
      background: var(--gradient-main);
      color: #fff;
      border: none;
      padding: 0;
      border-radius: 12px;
      font-size: 1.1em;
      cursor: pointer;
      width: 44px;
      height: 44px;
      min-width: 44px;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.25s cubic-bezier(0.4,0,0.2,1);
      box-shadow: 0 2px 12px rgba(110,231,183,0.15), 0 1px 4px rgba(96,165,250,0.1);
      position: relative;
      overflow: hidden;
    }

    .chat-input-area button[type="submit"]::before {
      content: '';
      position: absolute;
      inset: 0;
      background: linear-gradient(135deg, rgba(255,255,255,0.15) 0%, transparent 50%);
      border-radius: inherit;
    }

    .chat-input-area button[type="submit"]:hover {
      transform: scale(1.05);
      box-shadow: 0 4px 20px rgba(110,231,183,0.25), 0 2px 8px rgba(96,165,250,0.15);
    }

    .chat-input-area button[type="submit"]:active {
      transform: scale(0.95);
    }

    .chat-input-area svg {
      width: 20px;
      height: 20px;
      fill: #fff;
      pointer-events: none;
    }

    @media (max-width: 700px) {
      #results {
        padding: 16px 0 160px 0;
      }
      .chat-input-area {
        width: calc(100% - 20px);
        bottom: 16px;
        border-radius: var(--radius-lg);
      }
      .chat-input-area:hover {
        transform: translateX(-50%) translateY(-1px);
      }
      .chat-input-area-inner {
        padding: 12px 16px 6px 16px;
      }
      .bottom-buttons {
        padding: 6px 16px 12px 16px;
      }
      .messages { padding: 0 10px; }
    }

    /* ── Sidebar ── */
    .sidebar {
      position: fixed;
      left: -280px;
      top: 0;
      width: 280px;
      height: 100vh;
      background: var(--bg-secondary);
      box-shadow: 4px 0 24px rgba(0,0,0,0.2);
      transition: left 0.35s cubic-bezier(0.4,0,0.2,1);
      z-index: 1000;
      display: flex;
      flex-direction: column;
      border-right: 1px solid var(--border-subtle);
    }
    .sidebar.open {
      left: 0;
    }
    .sidebar-header {
      padding: 48px 20px 16px 20px;
      border-bottom: 1px solid var(--border-subtle);
      -webkit-app-region: drag;
    }
    .sidebar-header * {
      -webkit-app-region: no-drag;
    }
    .sidebar-logo {
      display: flex;
      align-items: center;
      gap: 12px;
      font-size: 1.35em;
      font-weight: 700;
      color: var(--text-primary);
      letter-spacing: -0.02em;
    }
    .sidebar-logo img {
      width: 34px;
      height: 34px;
      border-radius: 10px;
      box-shadow: 0 2px 12px rgba(110,231,183,0.15);
    }
    .sidebar-menu {
      flex: 1;
      padding: 16px 0;
      display: flex;
      flex-direction: column;
      min-height: 0;
    }
    .sidebar-item {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 11px 20px;
      color: var(--text-secondary);
      cursor: pointer;
      transition: all 0.2s ease;
      border: none;
      background: none;
      width: 100%;
      text-align: left;
      font-size: 0.95em;
      font-family: inherit;
      border-radius: 0;
      position: relative;
    }
    .sidebar-item::before {
      content: '';
      position: absolute;
      left: 0;
      top: 50%;
      transform: translateY(-50%) scaleY(0);
      width: 3px;
      height: 60%;
      border-radius: 0 3px 3px 0;
      background: var(--gradient-main);
      transition: transform 0.2s ease;
    }
    .sidebar-item:hover {
      background: rgba(110,231,183,0.05);
      color: var(--accent-green);
    }
    .sidebar-item:hover::before {
      transform: translateY(-50%) scaleY(1);
    }
    .sidebar-item.active {
      background: rgba(110,231,183,0.08);
      color: var(--accent-green);
    }
    .sidebar-item.active::before {
      transform: translateY(-50%) scaleY(1);
    }
    .hamburger-btn {
      position: fixed;
      top: 6px;
      left: 88px;
      z-index: 1002;
      background: rgba(26,29,39,0.7);
      border: 1px solid var(--border-subtle);
      color: var(--text-primary);
      padding: 6px;
      border-radius: var(--radius-sm);
      cursor: pointer;
      box-shadow: var(--shadow-md);
      transition: background 0.2s ease, border-color 0.2s ease, box-shadow 0.2s ease;
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
      -webkit-app-region: no-drag;
    }
    .hamburger-btn:hover {
      background: rgba(26,29,39,0.9);
      border-color: var(--border-hover);
      transform: scale(1.05);
    }
    .hamburger-btn.sidebar-open {
      background: transparent;
      box-shadow: none;
      border-color: transparent;
    }
    .hamburger-btn.sidebar-open:hover {
      background: rgba(255,255,255,0.05);
    }
    .sidebar-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background: rgba(0,0,0,0.5);
      backdrop-filter: blur(4px);
      -webkit-backdrop-filter: blur(4px);
      z-index: 999;
      opacity: 0;
      visibility: hidden;
      transition: opacity 0.35s ease, visibility 0.35s ease;
    }
    .sidebar-overlay.open {
      opacity: 1;
      visibility: visible;
    }
    .main-content {
      transition: margin-left 0.35s cubic-bezier(0.4,0,0.2,1);
      position: relative;
      z-index: 1;
      padding-top: 48px; /* clear macOS traffic lights / title bar */
    }
    .main-content.sidebar-open {
      margin-left: 280px;
    }
    @media (max-width: 768px) {
      .main-content.sidebar-open {
        margin-left: 0;
      }
    }
    .recent-chat-item {
      padding: 10px 20px;
      cursor: pointer;
      transition: all 0.2s ease;
      border-left: 3px solid transparent;
    }
    .recent-chat-item:hover {
      background: rgba(110,231,183,0.05);
      border-left-color: var(--accent-green);
    }
    .recent-chat-title {
      color: var(--text-primary);
      font-size: 0.88em;
      margin-bottom: 3px;
      font-weight: 500;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }
    .recent-chat-date {
      color: var(--text-tertiary);
      font-size: 0.75em;
    }
    .recents-container {
      flex: 1;
      overflow-y: auto;
      min-height: 0;
    }
    .sidebar-section-title {
      padding: 12px 20px 6px 20px;
      color: var(--text-tertiary);
      font-size: 0.7em;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 1px;
      margin-top: 8px;
    }

    .bottom-buttons {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 6px 20px 14px 20px;
      max-width: 800px;
      margin: 0 auto;
      width: 100%;
    }

    .bottom-buttons-left {
      display: flex;
      gap: 8px;
    }

    .toggle-wrap {
      display: none;
      align-items: center;
      gap: 8px;
    }
    .toggle-label {
      font-size: 0.78em;
      color: var(--text-tertiary);
      user-select: none;
    }
    body.light-theme .toggle-label {
      color: var(--text-tertiary);
    }
    .toggle-switch {
      position: relative;
      display: inline-block;
      width: 36px;
      height: 20px;
      flex-shrink: 0;
    }
    .toggle-switch input {
      opacity: 0;
      width: 0;
      height: 0;
    }
    .toggle-slider {
      position: absolute;
      cursor: pointer;
      inset: 0;
      background: rgba(255,255,255,0.08);
      border-radius: 20px;
      transition: background 0.25s ease;
    }
    .toggle-slider:before {
      content: '';
      position: absolute;
      height: 14px;
      width: 14px;
      left: 3px;
      bottom: 3px;
      background: var(--text-tertiary);
      border-radius: 50%;
      transition: transform 0.25s cubic-bezier(0.4,0,0.2,1), background 0.25s ease;
    }
    .toggle-switch input:checked + .toggle-slider {
      background: var(--gradient-main);
    }
    .toggle-switch input:checked + .toggle-slider:before {
      transform: translateX(16px);
      background: white;
    }

    .chat-input-area .bottom-btn {
      background: rgba(255,255,255,0.05) !important;
      border: 1px solid var(--border-subtle);
      color: var(--text-tertiary) !important;
      padding: 0;
      border-radius: var(--radius-sm);
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.2s ease;
      width: 34px;
      height: 34px;
    }

    .chat-input-area .bottom-btn:hover {
      background: rgba(255,255,255,0.1) !important;
      color: var(--text-primary) !important;
      border-color: var(--border-hover);
    }

    .bottom-btn svg {
      width: 16px;
      height: 16px;
      fill: currentColor;
    }

    /* ── Modal styles ── */
    .modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      background: rgba(0,0,0,0.6);
      backdrop-filter: blur(8px);
      -webkit-backdrop-filter: blur(8px);
      z-index: 2000;
      display: flex;
      align-items: center;
      justify-content: center;
      opacity: 0;
      visibility: hidden;
      transition: opacity 0.3s ease, visibility 0.3s ease;
    }

    .modal.open {
      opacity: 1;
      visibility: visible;
    }

    .modal-content {
      background: var(--bg-surface);
      border-radius: var(--radius-lg);
      padding: 28px;
      max-width: 480px;
      width: 90%;
      max-height: 80vh;
      overflow-y: auto;
      box-shadow: 0 24px 80px rgba(0,0,0,0.4), 0 0 0 1px var(--border-subtle);
      transform: scale(0.92) translateY(10px);
      transition: transform 0.35s cubic-bezier(0.4,0,0.2,1);
    }

    .modal.open .modal-content {
      transform: scale(1) translateY(0);
    }

    .modal-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 24px;
      padding-bottom: 16px;
      border-bottom: 1px solid var(--border-subtle);
    }

    .modal-title {
      font-size: 1.2em;
      font-weight: 600;
      color: var(--text-primary);
      letter-spacing: -0.02em;
    }

    .modal-close {
      background: none;
      border: none;
      color: var(--text-secondary);
      cursor: pointer;
      padding: 6px;
      border-radius: var(--radius-sm);
      transition: all 0.2s ease;
    }

    .modal-close:hover {
      background: rgba(110,231,183,0.08);
      color: var(--accent-green);
    }

    .modal-close svg {
      width: 18px;
      height: 18px;
      fill: currentColor;
    }

    .modal-body {
      color: var(--text-primary);
    }

    .setting-item {
      margin-bottom: 20px;
    }

    .setting-label {
      display: block;
      margin-bottom: 8px;
      font-weight: 500;
      color: var(--text-primary);
      font-size: 0.92em;
    }

    .setting-input {
      width: 100%;
      background: var(--bg-primary);
      border: 1px solid var(--border-default);
      color: var(--text-primary);
      padding: 10px 14px;
      border-radius: var(--radius-sm);
      font-size: 0.95em;
      box-sizing: border-box;
      font-family: inherit;
      transition: border-color 0.2s ease, box-shadow 0.2s ease;
    }

    .setting-input:focus {
      outline: none;
      border-color: var(--accent-green);
      box-shadow: 0 0 0 3px rgba(110,231,183,0.1);
    }

    .setting-description {
      font-size: 0.82em;
      color: var(--text-tertiary);
      margin-top: 6px;
    }

    /* ── Chat message bubbles ── */
    .message-row {
      display: flex;
      align-items: flex-end;
      gap: 10px;
      margin-bottom: 24px;
      padding: 0 20px;
    }

    .message-row.user {
      justify-content: flex-end;
    }

    .message-row.assistant {
      justify-content: flex-start;
    }

    .message-avatar {
      width: 30px;
      height: 30px;
      min-width: 30px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.75em;
      font-weight: 600;
      flex-shrink: 0;
      margin-bottom: 2px;
    }

    .message-row.assistant .message-avatar {
      background: var(--gradient-main);
      color: #fff;
      box-shadow: 0 2px 8px rgba(110,231,183,0.2);
    }

    .message-row.user .message-avatar {
      background: rgba(110,231,183,0.15);
      color: var(--accent-green);
      order: 1;
    }

    .message-bubble {
      max-width: 75%;
      padding: 14px 18px;
      border-radius: 18px;
      line-height: 1.65;
      font-size: 0.94em;
      word-break: break-word;
      position: relative;
      transition: transform 0.15s ease;
    }

    .message-row.user .message-bubble {
      background: linear-gradient(135deg, #0f3a2a 0%, #0f2d3a 100%);
      color: #d1fae5;
      border-bottom-right-radius: 6px;
      border: 1px solid rgba(110,231,183,0.12);
    }

    .message-row.assistant .message-bubble {
      background: var(--bg-surface);
      color: var(--text-primary);
      border-bottom-left-radius: 6px;
      border: 1px solid var(--border-subtle);
    }

    .message-bubble:hover {
      transform: translateY(-1px);
    }

    .message-bubble p:first-child { margin-top: 0; }
    .message-bubble p:last-child  { margin-bottom: 0; }

    /* ── Scrollbar ── */
    #results::-webkit-scrollbar,
    .recents-container::-webkit-scrollbar {
      width: 5px;
    }

    #results::-webkit-scrollbar-track,
    .recents-container::-webkit-scrollbar-track {
      background: transparent;
    }

    #results::-webkit-scrollbar-thumb,
    .recents-container::-webkit-scrollbar-thumb {
      background: rgba(255, 255, 255, 0.08);
      border-radius: 999px;
    }

    #results::-webkit-scrollbar-thumb:hover,
    .recents-container::-webkit-scrollbar-thumb:hover {
      background: rgba(255, 255, 255, 0.18);
    }

    body.light-theme #results::-webkit-scrollbar-thumb,
    body.light-theme .recents-container::-webkit-scrollbar-thumb {
      background: rgba(0, 0, 0, 0.1);
    }

    body.light-theme #results::-webkit-scrollbar-thumb:hover,
    body.light-theme .recents-container::-webkit-scrollbar-thumb:hover {
      background: rgba(0, 0, 0, 0.2);
    }

    body.light-theme .message-row.user .message-bubble {
      background: linear-gradient(135deg, #dcfce7 0%, #d1fae5 100%);
      color: #14532d;
      border: 1px solid #bbf7d0;
    }

    body.light-theme .message-row.assistant .message-bubble {
      background: #ffffff;
      color: var(--text-primary);
      border: 1px solid var(--border-default);
      box-shadow: var(--shadow-sm);
    }

    body.light-theme .message-row.assistant .message-avatar {
      box-shadow: 0 2px 8px rgba(5,150,105,0.15);
    }

    body.light-theme .message-row.user .message-avatar {
      background: rgba(5,150,105,0.1);
      color: #059669;
    }

    /* ── Welcome / empty state ── */
    .welcome-state {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 80px 24px 0;
      text-align: center;
      animation: welcomeFadeIn 0.7s cubic-bezier(0.4,0,0.2,1);
      position: relative;
      z-index: 1;
    }

    @keyframes welcomeFadeIn {
      from { opacity: 0; transform: translateY(16px) scale(0.98); }
      to   { opacity: 1; transform: translateY(0) scale(1); }
    }

    .welcome-state img {
      width: 72px;
      height: 72px;
      border-radius: 18px;
      box-shadow: 0 8px 32px rgba(0,0,0,0.2), 0 0 40px rgba(110,231,183,0.1);
      margin-bottom: 24px;
      animation: logoFloat 4s ease-in-out infinite;
    }

    @keyframes logoFloat {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-6px); }
    }

    .welcome-title {
      font-size: 2em;
      font-weight: 700;
      margin-bottom: 8px;
      letter-spacing: -0.03em;
      background: var(--gradient-main);
      background-size: 200% 200%;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      animation: gradientShift 4s ease infinite;
    }

    @keyframes gradientShift {
      0%, 100% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
    }

    .welcome-subtitle {
      color: var(--text-secondary);
      font-size: 1.05em;
      margin-bottom: 40px;
      font-weight: 400;
    }
    body.light-theme .welcome-subtitle { color: var(--text-secondary); }
    .welcome-prompts {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 12px;
      max-width: 560px;
      width: 100%;
    }
    .welcome-prompt-btn {
      background: rgba(255,255,255,0.03);
      border: 1px solid var(--border-subtle);
      color: var(--text-secondary);
      padding: 16px 18px;
      border-radius: var(--radius-md);
      font-size: 0.88em;
      text-align: left;
      cursor: pointer;
      transition: all 0.25s cubic-bezier(0.4,0,0.2,1);
      line-height: 1.45;
      font-family: inherit;
      position: relative;
      overflow: hidden;
    }
    .welcome-prompt-btn::before {
      content: '';
      position: absolute;
      inset: 0;
      background: var(--gradient-subtle);
      opacity: 0;
      transition: opacity 0.25s ease;
      border-radius: inherit;
    }
    .welcome-prompt-btn:hover {
      border-color: rgba(110,231,183,0.2);
      color: var(--text-primary);
      transform: translateY(-2px);
      box-shadow: 0 4px 20px rgba(0,0,0,0.2), 0 0 20px rgba(110,231,183,0.05);
    }
    .welcome-prompt-btn:hover::before {
      opacity: 1;
    }
    body.light-theme .welcome-prompt-btn {
      background: rgba(0,0,0,0.02);
      border: 1px solid var(--border-default);
      color: var(--text-secondary);
    }
    body.light-theme .welcome-prompt-btn:hover {
      background: #ffffff;
      border-color: rgba(5,150,105,0.25);
      color: var(--text-primary);
      box-shadow: 0 4px 20px rgba(0,0,0,0.06);
    }
    @media (max-width: 500px) {
      .welcome-prompts { grid-template-columns: 1fr; }
    }

    /* ── Textarea ── */
    .chat-input-area textarea {
      flex: 1;
      background: transparent;
      border: none;
      color: var(--text-primary);
      font-size: 0.98em;
      font-family: inherit;
      padding: 10px 4px;
      border-radius: 0;
      outline: none;
      box-shadow: none;
      transition: none;
      resize: none;
      overflow-y: hidden;
      min-height: 22px;
      max-height: 160px;
      line-height: 1.5;
    }
    .chat-input-area textarea:focus {
      box-shadow: none;
      border: none;
    }
    .chat-input-area textarea::placeholder {
      color: var(--text-tertiary);
    }
    body.light-theme .chat-input-area textarea {
      background: transparent;
      color: var(--text-primary);
    }
    body.light-theme .chat-input-area textarea:focus {
      box-shadow: none;
      border: none;
    }
    body.light-theme .chat-input-area textarea::placeholder {
      color: var(--text-tertiary);
    }

    /* ── Message entrance animation ── */
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(8px); }
      to   { opacity: 1; transform: translateY(0); }
    }
    @keyframes slideInLeft {
      from { opacity: 0; transform: translateX(-12px); }
      to   { opacity: 1; transform: translateX(0); }
    }
    @keyframes slideInRight {
      from { opacity: 0; transform: translateX(12px); }
      to   { opacity: 1; transform: translateX(0); }
    }
    .message-row {
      animation: fadeIn 0.35s cubic-bezier(0.4,0,0.2,1);
    }
    .message-row.assistant {
      animation: slideInLeft 0.35s cubic-bezier(0.4,0,0.2,1);
    }
    .message-row.user {
      animation: slideInRight 0.35s cubic-bezier(0.4,0,0.2,1);
    }

    /* ── Typing indicator ── */
    .typing-indicator {
      display: flex;
      align-items: center;
      gap: 5px;
      padding: 14px 18px;
    }
    .typing-indicator span {
      display: inline-block;
      width: 7px;
      height: 7px;
      background: var(--accent-green);
      border-radius: 50%;
      animation: typingBounce 1.2s infinite;
    }
    .typing-indicator span:nth-child(2) { animation-delay: 0.15s; }
    .typing-indicator span:nth-child(3) { animation-delay: 0.3s; }
    @keyframes typingBounce {
      0%, 60%, 100% { transform: translateY(0); opacity: 0.3; }
      30% { transform: translateY(-6px); opacity: 1; }
    }
    body.light-theme .typing-indicator span {
      background: #059669;
    }

    /* ── Code block polish ── */
    .message-bubble pre,
    .message-bubble pre[class*="language-"] {
      position: relative;
      background: #0d1117;
      border: 1px solid rgba(255,255,255,0.06);
      border-radius: 12px;
      padding: 0;
      margin: 14px 0;
      overflow: hidden;
    }
    .message-bubble pre code,
    .message-bubble pre code[class*="language-"],
    .message-bubble code[class*="language-"] {
      display: block;
      padding: 16px 18px;
      overflow-x: auto;
      font-size: 0.86em;
      line-height: 1.65;
      font-family: 'SF Mono', 'Fira Code', 'Cascadia Code', 'JetBrains Mono', Menlo, monospace;
      background: none;
      color: #e6edf3;
      text-shadow: none;
    }
    /* Override Prism token colours for dark background */
    .message-bubble .token.comment,
    .message-bubble .token.prolog,
    .message-bubble .token.doctype,
    .message-bubble .token.cdata    { color: #8b949e; }
    .message-bubble .token.punctuation { color: #c9d1d9; }
    .message-bubble .token.property,
    .message-bubble .token.tag,
    .message-bubble .token.boolean,
    .message-bubble .token.number,
    .message-bubble .token.constant,
    .message-bubble .token.symbol,
    .message-bubble .token.deleted   { color: #79c0ff; }
    .message-bubble .token.selector,
    .message-bubble .token.attr-name,
    .message-bubble .token.string,
    .message-bubble .token.char,
    .message-bubble .token.builtin,
    .message-bubble .token.inserted  { color: #a5d6ff; }
    .message-bubble .token.operator,
    .message-bubble .token.entity,
    .message-bubble .token.url       { color: #d2a8ff; }
    .message-bubble .token.atrule,
    .message-bubble .token.attr-value,
    .message-bubble .token.keyword   { color: #ff7b72; }
    .message-bubble .token.function,
    .message-bubble .token.class-name { color: #d2a8ff; }
    .message-bubble .token.regex,
    .message-bubble .token.important,
    .message-bubble .token.variable   { color: #ffa657; }
    .code-block-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 8px 14px;
      background: rgba(255,255,255,0.03);
      border-bottom: 1px solid rgba(255,255,255,0.06);
      font-size: 0.73em;
      color: #8b949e;
      font-family: inherit;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }
    .code-copy-btn {
      background: none;
      border: 1px solid rgba(255,255,255,0.08);
      color: #8b949e;
      padding: 3px 10px;
      border-radius: 6px;
      cursor: pointer;
      font-size: 1em;
      transition: all 0.15s ease;
      text-transform: none;
      letter-spacing: 0;
    }
    .code-copy-btn:hover {
      background: rgba(255,255,255,0.08);
      color: #e6e6e6;
      border-color: rgba(255,255,255,0.15);
    }
    /* Light theme code blocks */
    body.light-theme .message-bubble pre,
    body.light-theme .message-bubble pre[class*="language-"] {
      background: #f8fafc;
      border-color: var(--border-default);
    }
    body.light-theme .message-bubble pre code,
    body.light-theme .message-bubble pre code[class*="language-"],
    body.light-theme .message-bubble code[class*="language-"] {
      color: #1e293b;
      background: none;
    }
    body.light-theme .code-block-header {
      background: #f1f5f9;
      border-bottom-color: var(--border-default);
      color: #656d76;
    }
    body.light-theme .code-copy-btn {
      border-color: var(--border-default);
      color: #656d76;
    }
    body.light-theme .code-copy-btn:hover {
      background: #e2e8f0;
      color: #1e293b;
    }
    /* Reset token colours to Prism defaults in light theme */
    body.light-theme .message-bubble .token.comment,
    body.light-theme .message-bubble .token.prolog,
    body.light-theme .message-bubble .token.doctype,
    body.light-theme .message-bubble .token.cdata    { color: slategray; }
    body.light-theme .message-bubble .token.punctuation { color: #999; }
    body.light-theme .message-bubble .token.property,
    body.light-theme .message-bubble .token.tag,
    body.light-theme .message-bubble .token.boolean,
    body.light-theme .message-bubble .token.number,
    body.light-theme .message-bubble .token.constant,
    body.light-theme .message-bubble .token.symbol,
    body.light-theme .message-bubble .token.deleted   { color: #905; }
    body.light-theme .message-bubble .token.selector,
    body.light-theme .message-bubble .token.attr-name,
    body.light-theme .message-bubble .token.string,
    body.light-theme .message-bubble .token.char,
    body.light-theme .message-bubble .token.builtin,
    body.light-theme .message-bubble .token.inserted  { color: #690; }
    body.light-theme .message-bubble .token.operator,
    body.light-theme .message-bubble .token.entity,
    body.light-theme .message-bubble .token.url       { color: #9a6e3a; }
    body.light-theme .message-bubble .token.atrule,
    body.light-theme .message-bubble .token.attr-value,
    body.light-theme .message-bubble .token.keyword   { color: #07a; }
    body.light-theme .message-bubble .token.function,
    body.light-theme .message-bubble .token.class-name { color: #dd4a68; }
    body.light-theme .message-bubble .token.regex,
    body.light-theme .message-bubble .token.important,
    body.light-theme .message-bubble .token.variable   { color: #e90; }

    /* ── Inline code ── */
    .message-bubble code:not(pre code) {
      background: rgba(110, 231, 183, 0.08);
      border: 1px solid rgba(110, 231, 183, 0.1);
      border-radius: 6px;
      padding: 2px 7px;
      font-size: 0.86em;
      font-family: 'SF Mono', 'Fira Code', Menlo, monospace;
    }
    body.light-theme .message-bubble code:not(pre code) {
      background: rgba(5, 150, 105, 0.06);
      border-color: rgba(5, 150, 105, 0.12);
      color: #065f46;
    }

    /* ── Prompt card icons ── */
    .prompt-icon {
      display: block;
      font-size: 1.2em;
      margin-bottom: 6px;
    }

    /* ── Title bar drag region ── */
    .titlebar-drag {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 42px;
      -webkit-app-region: drag;
      z-index: 100;
      pointer-events: auto;
    }

    /* ── Selection highlight ── */
    ::selection {
      background: rgba(110,231,183,0.25);
      color: inherit;
    }

    /* ── Focus-visible for keyboard nav ── */
    button:focus-visible,
    select:focus-visible,
    textarea:focus-visible,
    input:focus-visible {
      outline: 2px solid var(--accent-green);
      outline-offset: 2px;
    }
  </style>
</head>
<body>
  <div class="titlebar-drag"></div>
  <div class="sidebar-overlay" id="sidebar-overlay"></div>

  <div class="sidebar" id="sidebar">
    <div class="sidebar-header">
      <button class="hamburger-btn" id="hamburger-btn">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
          <path d="M3 12h18M3 6h18M3 18h18" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
        </svg>
      </button>
      <div class="sidebar-logo">
        <img src="images/inception.png" alt="Inception Logo" />
        Inception
      </div>
    </div>
    <div class="sidebar-menu">
      <button class="sidebar-item active" data-action="new-chat">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor">
          <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
        </svg>
        New Chat
      </button>
      <button class="sidebar-item" data-action="recents">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor">
          <path d="M3 3h18v18H3V3zm16 16V5H5v14h14zM7 7h10v2H7V7zm0 4h10v2H7v-2zm0 4h7v2H7v-2z"/>
        </svg>
        Recents
      </button>
      <div class="sidebar-section-title">Recent Chats</div>
      <div class="recents-container" id="recents-list">
        <!-- Recent chats will be loaded here -->
      </div>
      <button class="sidebar-item" data-action="settings">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor">
          <path d="M12 8a4 4 0 100 8 4 4 0 000-8zM12 6a6 6 0 110 12 6 6 0 010-12z"/>
          <path d="M12 1l2.25 2.25L12 5.5 9.75 3.25 12 1zM19 12l2.25-2.25L23.5 12l-2.25 2.25L19 12zM12 23l-2.25-2.25L12 18.5l2.25 2.25L12 23zM5 12L2.75 9.75.5 12l2.25 2.25L5 12z"/>
        </svg>
        Settings
      </button>
    </div>
    <div style="padding: 12px 20px 20px 20px; color: #4b5563; font-size: 0.75em;" id="sidebar-version"></div>
  </div>
  
  <div class="main-content" id="main-content">
    <div class="welcome-state" id="welcome-state">
      <img src="images/inception.png" alt="Inception Logo" />
      <div class="welcome-title">Inception</div>
      <div class="welcome-subtitle">What can I help you with?</div>
      <div class="welcome-prompts">
        <button class="welcome-prompt-btn" data-prompt="Explain quantum computing in simple terms"><span class="prompt-icon">&#x2728;</span>Explain quantum computing in simple terms</button>
        <button class="welcome-prompt-btn" data-prompt="Write a Python function to sort a list"><span class="prompt-icon">&#x1F4BB;</span>Write a Python function to sort a list</button>
        <button class="welcome-prompt-btn" data-prompt="What are the best practices for REST APIs?"><span class="prompt-icon">&#x1F680;</span>Best practices for REST APIs?</button>
        <button class="welcome-prompt-btn" data-prompt="Help me debug a segmentation fault"><span class="prompt-icon">&#x1F41B;</span>Help me debug a segmentation fault</button>
      </div>
    </div>
    <div id="results"></div>
    <div class="chat-input-area">
      <form id="chat-form" class="chat-input-area-inner" autocomplete="off">
        <textarea id="chat-input" placeholder="Type your message..." autocomplete="off" rows="1"></textarea>
        <button type="submit" aria-label="Send">
          <svg viewBox="0 0 24 24"><path d="M2 21l21-9-21-9v7l15 2-15 2z"/></svg>
        </button>
      </form>
      <div class="bottom-buttons">
        <div class="bottom-buttons-left">
          <button class="bottom-btn" id="clear-chat-btn" title="Clear Chat">
            <svg viewBox="0 0 24 24"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/></svg>
          </button>
          <button class="bottom-btn" id="settings-btn" title="Settings">
            <svg viewBox="0 0 24 24"><path d="M12 15.5A3.5 3.5 0 0 1 8.5 12A3.5 3.5 0 0 1 12 8.5a3.5 3.5 0 0 1 3.5 3.5 3.5 3.5 0 0 1-3.5 3.5m7.43-2.53c.04-.32.07-.64.07-.97c0-.33-.03-.66-.07-1l2.11-1.63c.19-.15.24-.42.12-.64l-2-3.46c-.12-.22-.39-.31-.61-.22l-2.49 1c-.52-.39-1.06-.73-1.69-.98l-.37-2.65A.506.506 0 0 0 14 2h-4c-.25 0-.46.18-.5.42l-.37 2.65c-.63.25-1.17.59-1.69.98l-2.49-1c-.22-.09-.49 0-.61.22l-2 3.46c-.13.22-.07.49.12.64L4.57 11c-.04.34-.07.67-.07 1c0 .33.03.65.07.97l-2.11 1.66c-.19.15-.25.42-.12.64l2 3.46c.12.22.39.3.61.22l2.49-1.01c.52.4 1.06.74 1.69.99l.37 2.65c.04.24.25.42.5.42h4c.25 0 .46-.18.5-.42l.37-2.65c.63-.26 1.17-.59 1.69-.99l2.49 1.01c.22.08.49 0 .61-.22l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.66Z"/></svg>
          </button>
        </div>
        <div class="toggle-wrap" id="reasoning-toggle-wrap">
          <span class="toggle-label">Instant Reasoning</span>
          <label class="toggle-switch" title="Enable reasoning_effort: instant">
            <input type="checkbox" id="reasoning-toggle">
            <span class="toggle-slider"></span>
          </label>
        </div>
        <select id="model-select" class="model-select">
          <option value="mercury-coder">Mercury Coder</option>
          <option value="mercury">Mercury</option>
          <option value="mercury-2" selected>Mercury 2</option>
        </select>
      </div>
    </div>
  </div>
  
  <!-- API Key Prompt Modal -->
  <div class="modal" id="api-key-modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="modal-title">API Key Required</h2>
      </div>
      <div class="modal-body">
        <p style="margin: 0 0 16px 0; color: #b0b3c0; font-size: 0.95em;">
          Enter your Inception Labs API key to get started. It will be saved to
          <code style="background: #181a20; padding: 2px 6px; border-radius: 4px; font-size: 0.85em;">~/.inception</code>.
          Don't have one? <a href="https://platform.inceptionlabs.ai/dashboard/api-keys" target="_blank" rel="noopener noreferrer" style="color: #6ee7b7; text-decoration: none;">Get an API key →</a>
        </p>
        <div class="setting-item">
          <label class="setting-label" for="api-key-prompt-input">API Key</label>
          <input type="password" id="api-key-prompt-input" class="setting-input" placeholder="Enter your API key...">
        </div>
        <div style="display: flex; gap: 12px; margin-top: 8px;">
          <button id="api-key-prompt-skip" style="flex: 1; padding: 12px; background: #2d3142; color: #9ca3af; border: 1px solid #374151; border-radius: 8px; font-size: 1em; cursor: pointer;">Skip for now</button>
          <button id="api-key-prompt-save" style="flex: 2; padding: 12px; background: linear-gradient(135deg, #6ee7b7 0%, #3b82f6 100%); color: white; border: none; border-radius: 8px; font-size: 1em; cursor: pointer; font-weight: 500;">Save API Key</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Settings Modal -->
  <div class="modal" id="settings-modal">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="modal-title">Settings</h2>
        <button class="modal-close" id="modal-close">
          <svg viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </div>
      <div class="modal-body">
        <div class="setting-item">
          <label class="setting-label" for="api-key-input">API Key</label>
          <input type="password" id="api-key-input" class="setting-input" placeholder="Enter your API key">
          <div class="setting-description">Your API key for Inception Labs AI</div>
        </div>
        <div class="setting-item">
          <label class="setting-label" for="model-setting">Default Model</label>
          <select id="model-setting" class="setting-input">
            <option value="mercury-coder-small">Mercury Coder Small</option>
            <option value="mercury-coder-large">Mercury Coder Large</option>
            <option value="mercury">Mercury</option>
            <option value="mercury-2" selected>Mercury 2</option>
          </select>
          <div class="setting-description">Choose your preferred AI model</div>
        </div>
        <div class="setting-item">
          <label class="setting-label" for="max-tokens-input">Max Tokens</label>
          <input type="number" id="max-tokens-input" class="setting-input" value="16384" min="1" max="16384">
          <div class="setting-description">Maximum number of tokens in response (1–16384)</div>
        </div>
        <div class="setting-item">
          <label class="setting-label" for="theme-setting">Theme</label>
          <select id="theme-setting" class="setting-input">
            <option value="light">Light</option>
            <option value="dark">Dark</option>
            <option value="auto">Auto</option>
          </select>
          <div class="setting-description">Choose your preferred theme</div>
        </div>
      </div>
    </div>
  </div>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.30.0/prism.min.js" integrity="sha384-xAgN7OCsK5s0d3G18tqRYrxy8hWsPA14E26TMh7Mi9ZM09vaz4EA0DBTl+80F5yC" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.30.0/plugins/autoloader/prism-autoloader.min.js" integrity="sha384-Uq05+JLko69eOiPr39ta9bh7kld5PKZoU+fF7g0EXTAriEollhZ+DrN8Q/Oi8J2Q" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/dompurify@3.2.4/dist/purify.min.js" integrity="sha384-eEu5CTj3qGvu9PdJuS+YlkNi7d2XxQROAFYOr59zgObtlcux1ae1Il3u7jvdCSWu" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/marked@15.0.7/marked.min.js" integrity="sha384-H+hy9ULve6xfxRkWIh/YOtvDdpXgV2fmAGQkIDTxIgZwNoaoBal14Di2YTMR6MzR" crossorigin="anonymous"></script>
  <script src="marked-config.js"></script>
  <script src="renderer.js"></script>
  <script src="app.js"></script>
</body>
</html>
